=== PayPal Currency Converter PRO for WooCommerce ===Contributors: henry-kruppTags: woocommerce, paypal, currency conversion, exchange rate, handling feeRequires at least: 3.0.1Tested up to: 4.9.4Stable tag: 1.2License: Regular LicenseLicense URI: http://codecanyon.net/licenses/regularConvert any given WooCommerce shop currency to allowed PayPal currencies for PayPal's Payment Gateway within WooCommerce on checkout.== Description ==Convert any given WooCommerce shop currency to allowed PayPal currencies for PayPal's Payment Gateway within WooCommerce on checkout.Actual Currency Exchange Rates will be retrieved from Yahoo Finance, "Open Exchange Rates API", or European Central Bank.Integrated are Google's exchange rates history chart of the last 5 years and "The Money Converter Rate Ticker".  Tool-tip help on every item.Since Ver 1.3 you can also establish your custom currency.== Installation ==PayPal Currency Converter PRO for WooCommerce installs like any WordPress plug-in.PRECONDITION:WooCommerce installed and activated.MANDATORY SETTINGS:1. Find the settings page in WooCommerce's sub menu.2. First time only: Select your target Currency3. Optionally register a valid API ID and activate it with the radio button or use Yahoo Finance, or European Central Bank as your exchange rate provider3. Save settings to invoke the exchange rate retrieval and optionally check the time-stamp of last update. (see 2-Target-EXR-and-API-ID-registered-and-saved.jpg and 3-last-update.jpg)4. Accept the suggested exchange rate shown in the button. (see 4-EXR-Accepted.jpg)5. Save settings again. (see 5-EXR-Accepted-and settings-saved.jpg)OPTIONAL SETTINGS:Virtual product order auto completion can be established while checking "Auto-Complete".This completes orders after succesful payment, but only for virtual products.After order completion the plug-in will add notes to the order. (see 9-PPCC-order-notes.jpg)AUTOMATIC EXR UPDATESFor automatic updates you have two options.One option is to use a suitable Cron-Job plug-in like "WP-Crontrol" and register the hook "ppcc_cexr_update" for your desired update frequency.(see 7-Cron-job.jpg)Another option is to call the given AJAX url (http://yourdomain.com/wp-admin/admin-ajax.php?action=ppcc&ppcc_function=cexr_update) from your hosting servers cron job.(This ensures a accurate timing for the updates.)HANDLING FEEYou may want to set handling percentage and/or a fixed handling amount in the targeted currencyLOG / EMAIL NOTIFICATIONIf the check-box "log" is checked an email notification will be sent to the admin's email address every time the exchange rate is updated with date, time, and exchange rate value.Furthermore the log file will be populated with every action the plug-in does.The log file can be found and viewed in the indicated location while using your FTP client.For additional convenience you can open the log-file in a pop up window.To make this work add: "Allow from <your servers ID will be indicated in the plug-in>" to the .htaccess file inside "../plug-ins/woocommerce/logs/"When the currently saved currency exchange rate is equal with the actual currency exchange rate the value is indicated by green font colour.A difference between the saved currency exchange rate and the actual is indicated by red coloured value and through warning message.CUSTOM CURRENCYIf you need a custom currency,check the check-box "Use Custom Currency", then you will see 3 new text input fieldscalled Code, Symbol, and Name. Fill this out with the appropriate settings.For example: Code=XOF, Symbol=XOF, Name= XFA FrancSave your settings and navigate to WooCommerce's settings page where you should find your new custom currency.Select it and save your settings.Navigate back to PayPal Currency Converte Pro settings page to check if everything is set.== Frequently Asked Questions === How can I have automated exchange rate updates? =Simply add WPcrontrol plug-in and call the hook given on the admin page or use an external cron job scheduler that calls the Ajax URl as shown on the admin page.= How can I have 5 digits accuracy? =Choose Open Exchangerate API or ECB as your data provider.= How can the TAX be converted? =Tax and shipping rate conversion is working out of the box.= How can I show the conversion rate on the checkout page? =You can set the PayPal Description in such a way to show the conversion rate in the payment description.Simply add "{}" into the description at your desired place and it will be replaced by the current conversion rate and currency pairing.Example Description:<img id="logo" alt="Intelligent IT" src="http://intelligent-it.asia/iit/wp-content/uploads/2013/07/favicon.ico">Thank you for choosing Intelligent IT  for your IT needs</img>.Pay via PayPal; you can pay with your credit card if you don&#039;t have a PayPal account.<strong>The order total will be converted from KRW into USD with the current exchange rate of {0.0971USD/ZAR}</strong>= How can I show the converted total, tax, and conversion rate on the checkout page? =This is new since version 1.6:You may use this span tags with specific ids to pull the total, the tax, and the conversion rate inside a supported payment gateway description.Example Description:<strong>Order Total <span id="ppcc_total"></span> (Includes <span id="ppcc_tax"></span> Tax)</strong>(Currency conversion rate = <span id="ppcc_cr"></span>)== Screenshots ==1. Menu location2. Settings Admin Backend3. Conversion rate in PayPal description on checkout4. PayPal pay page== Changelog === 1.0 =* Initial version= 1.1 =* New Dash-Icons as of WordPress 3.8* Show the current conversion rate in PayPal's payment gateway description.You can set the PayPal Description in such a way to show the conversion rate in the payment description.**Simply add "{}" into the description at your desired place and it will be replaced by the current conversion rate and currency pairing.**Example Description:Thank you for choosing *XYZ* for your *xyz* needs.Pay via PayPal; you can pay with your credit card if you don&#039;t have a PayPal account.The order total will be converted from KRW into USD with the current exchange rate of **{0.0971USD/ZAR}**= 1.2 =* upgrade to ver 1.2 * harmonized with WordPress 3.8.1 and WooCommerce 2.1.2* System versions information added to admin page* deprecated PHP functions replaced* readme.txt addded to plugin folder= 1.3 =* upgrade to 1.3 * PayPal Currency Converter Pro for WooCommerce now gives you the possibility to define your own custom currency!* Some code optimization.= 1.4 =* upgrade to 1.4 * PayPal Currency Converter Pro for WooCommerce now also proceeds non virtual orders and reduces stock on successful payment.* Some code optimization.* Money Converter Rate Ticker removed.= 1.5 =* upgrade to 1.5* PayPal Currency Converter Pro for WooCommerce now also supports PayPal Digital Goods checkout.* Ask me for a quote to customize your copy of payPal Digital checkout since it does not work out of the box.* Link to easycron.com added.= 1.5.1 =* Bug fix for Call to undefined function currency_exchange_rate_update()* Update for PayPal Digital Goods checkout to work with the next version of PPDG out of the box.= 1.5.2 =* Harmonized with latest WooCommerce Paygate Standard Checkout payment_method_title change= 1.6 =* update to 1.6* Total and tax conversion for payment gateway description on checkout.= 1.7 =* update to 1.7* Some code improvements* New currency exchange rate provider bnro.ro specifically for Romanian New Leu (RON) added= 1.8 =* update to 1.8* Warning for file_get_contents / allow_url_open=Off in backend* Some code improvements* New currency exchange rate provider getexchangerates.com and fixer.io added* Bug fix with Tax calculation for payment description* New elements for payment description established (legathy way is still available)	Sample payment description content:		Cart Total: <span class="ppcc_cart_total"></span></br>		Cart Tax: <span class="ppcc_cart_tax"></span></br>		Shipping Total: <span class="ppcc_shipping_total"></span></br>		Shipping Tax Total: <span class="ppcc_shipping_tax_total"></span></br>		Order Total exclusive Tax: <span class="ppcc_total_order_exc_tax"></span></br>		Order Total Tax: <span class="ppcc_tax_total"></span></br>		Order Total inclusive Tax: <span class="ppcc_total_order_inc_tax"></span></br>		Conversion Rate: <span class="ppcc_cr"></span>* Technical approach for payment description changed* PayPal Advanced as payment gateway supported...though needs some minor adjustment in PayPal Advanced plugin.* Disclaimer/Linked Sites added* Save Changes button added next to shop conversion rate for convenience and tooltip text modified.= 1.8.1 =* minor bug fix= 1.8.2 =* minor bug fix (BNRO only)= 1.8.3 =* possible vulnerability removed= 2.0 =* minor bug fix (Email log could not be turned of)* new: Email Order Complete notes added* auto completion of virtual orders* auto processing of normal orders* warning about missing php.ini setting= 2.1 =* new feature rounding precision* Yahoo rates precision improved for rates < 0.1000* code optimisation* custom exchange rates enabled= 2.1.1 =* missing shipping handling added= 2.1.2 Multisite (beta) =* enabled for MultiSite setup (individual blog only, not side wide)* make PPCCC work with WooCommerce Currency Switcher  (but only 2 currencies allowed, one PayPal supported Target currency and one non supported currency)* functions.php established and included= 2.1.3 Multisite =* enabled for MultiSite setup (individual blog only, not side wide)= 2.1.4 Multisite =* minor code change to avoid problems with plugin activation= 2.1.5 Multisite =* minor code change to avoid problems with plugin activation= 2.1.6 Multisite =* minor code change to address deprecated wp_get_sites()= 2.1.7 Multisite =* CURL established to avoid ISP issues with php.ini settings.= 2.1.8 Multisite =* YAHO URL has changed= 2.1.9 Multisite =* minor fix to avoid code collision= 2.2.0 Multisite =* bug fixes and minor change= 2.2.1 Multisite =* removed Yahoo API due to new restrictions* changed JS assets= 2.2.2 Multisite =* new feature "handling percentage" and "handling amount" added* code refactoring* Sample payment description content (changed):	Cart Total: <span class="ppcc_cart_total" /><br>	Shipping Total: <span class="ppcc_shipping_total" /><br>	Handling fee <span class="ppcc_handling_percentage" />% plus <span class="ppcc_handling_amount" /> fixed.<br>	Order Total Tax: <span class="ppcc_tax_total" /><br>	Order Total inclusive Tax: <span class="ppcc_total_order_inc_tax" /><br>	Conversion Rate: <span class="ppcc_cr" />= 2.2.3 Multisite =* some bug fixes in ppcc_checkout.js= 2.2.4 Multisite =* new exchange rate provider added* code refactoring= 3.0 beta =* layout changed from single to tabbed backend page* reorganized gui presentation* harmonised with new WooCommerce look and feel* plenty of code refactoring= 3.0 =* fix and better solution for recalculation of values in payment description= 3.0.1 =* tiny bug fix due to variabel name changing= 3.0.2 =* bug fix for nonpriv ajax call and improper WC_logger call= 3.0.3 =* keep settings on deactivation* remove settings on plugin deletion= 3.1.0 =* address fixer.io API change of service== Upgrade Notice === 1.0 =* Allow your customers to pay any shop currency with PayPal= 1.1 =* Backend layout adjusted to new Dash-Icons as of WordPress 3.8* Show the current conversion rate in PayPal's payment gateway description.= 1.2 =* upgrade to ver 1.2* harmonized with WordPress 3.8.1 and WooCommerce 2.1.2* System versions information added to admin page* deprecated PHP functions replaced* readme.txt addded  to plugin folder= 1.3 =* upgrade to ver 1.3 * PayPal Currency Converter Pro for WooCommerce now gives you the possibility to define your own custom currency!* Some code optimization.= 1.4 =* upgrade to 1.4 * PayPal Currency Converter Pro for WooCommerce now also proceeds non virtual orders and reduces stock on successful payment.* Some code optimization.* Money Converter Rate Ticker removed.= 1.5 =* upgrade to 1.5* PayPal Currency Converter Pro for WooCommerce now also supports PayPal Digital Goods checkout.* Ask me for a quote to customize your copy of payPal Digital checkout since it does not work out of the box.* Link to easycron.com added.= 1.5.1 =* Bug fix for Call to undefined function currency_exchange_rate_update()* Update for PayPal Digital Goods checkout to work with the next version of PPDG out of the box.= 1.5.2 =* Harmonized with latest WooCommerce Paygate Standard Checkout payment_method_title change= 1.6 =* update to 1.6,* Total and tax conversion for payment gateway description on checkout.= 1.7 =* update to 1.7* Some code improvements* New currency exchange rate provider bnro.ro specifically for Romanian New Leu (RON) added= 1.8 =* update to 1.8* Warning for file_get_contents / allow_url_open=Off in backend* Some code improvements* New currency exchange rate provider getexchangerates.com and fixer.io added* Bug fix with Tax calculation for payment description* New elements for payment description established (legathy way is still available)	Sample payment description content:		Cart Total: <span class="ppcc_cart_total"></span></br>		Cart Tax: <span class="ppcc_cart_tax"></span></br>		Shipping Total: <span class="ppcc_shipping_total"></span></br>		Shipping Tax Total: <span class="ppcc_shipping_tax_total"></span></br>		Order Total exclusive Tax: <span class="ppcc_total_order_exc_tax"></span></br>		Order Total Tax: <span class="ppcc_tax_total"></span></br>		Order Total inclusive Tax: <span class="ppcc_total_order_inc_tax"></span></br>		Conversion Rate: <span class="ppcc_cr"></span>* Technical approach for payment description changed* PayPal Advanced as payment gateway supported...though needs some minor adjustment in PayPal Advanced plugin.* Disclaimer/Linked Sites added* Save Changes button added next to shop conversion rate for convenience and tooltip text modified.= 1.8.1 =* minor bug fix= 1.8.2 =* minor bug fix (BNRO only)= 1.8.3 =* possible vulnerability removed= 2.0 =* minor bug fix (Email log could not be turned of)* new: Email Order Complete notes added* auto completion of virtual orders* auto processing of normal orders* warning about missing php.ini setting= 2.1 =* new feature rounding precision* Yahoo rates precision improved for rates < 0.1000* code optimisation* custom exchange rates enabled= 2.1.1 =* missing shipping handling added= 2.1.2 Multisite (beta) =* enabled for MultiSite setup (individual blog only, not side wide)* make PPCCC work with WooCommerce Currency Switcher  (but only 2 currencies allowed, one PayPal supported Target currency and one non supported currency)* functions.php established and included= 2.1.3 Multisite =* enabled for MultiSite setup (individual blog only, not side wide)= 2.1.4 Multisite =* minor code change to avoid problems with plugin activation= 2.1.5 Multisite =* minor code change to avoid problems with plugin activation= 2.1.6 Multisite =* minor code change to address deprecated wp_get_sites()= 2.1.7 Multisite =* CURL established to avoid ISP issues with php.ini settings.= 2.1.8 Multisite =* YAHO URL has changed= 2.1.9 Multisite =* minor fix to avoid code collision= 2.2.0 Multisite =* bug fixes and minor change= 2.2.1 Multisite =* removed Yahoo API due to new restrictions* changed JS assets= 2.2.2 Multisite =* new feature "handling percentage" and "handling amount" added* code refactoring* Sample payment description content (changed):	Cart Total: <span class="ppcc_cart_total" /><br>	Shipping Total: <span class="ppcc_shipping_total" /><br>	Handling fee <span class="ppcc_handling_percentage" />% plus <span class="ppcc_handling_amount" /> fixed.<br>	Order Total Tax: <span class="ppcc_tax_total" /><br>	Order Total inclusive Tax: <span class="ppcc_total_order_inc_tax" /><br>	Conversion Rate: <span class="ppcc_cr" />= 2.2.3 Multisite =* some bug fixes in ppcc_checkout.js= 2.2.4 Multisite =* new exchange rate provider added* code refactoring= 3.0 beta =* layout changed from single to tabbed backend page* reorganized gui presentation* harmonised with new WooCommerce look and feel* plenty of code refactoring= 3.0 =* fix and better solution for recalculation of values in payment description= 3.0.1 =* tiny bug fix due to variabel name changing= 3.0.2 =* bug fix for nonpriv ajax call and improper WC_logger call= 3.0.3 =* keep settings on deactivation* remove settings on plugin deletion= 3.1.0 =* address fixer.io API change of service